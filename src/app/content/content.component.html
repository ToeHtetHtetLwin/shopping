<div class="content-container pt-16"></div>

<div class="container">
  <div class="flex justify-content-center align-items-center">
    <p-iconField iconPosition="left" class="mt-2">
      <p-inputIcon>
        <i class="pi pi-search"></i>
      </p-inputIcon>
      <input
        pInputText
        type="text"
        class="custom-width"
        placeholder="Search product"
        [(ngModel)]="searchKeyword"
      />
    </p-iconField>
  </div>

  <div class="flex mt-5">
    <div class="card">
      <p-carousel
        [value]="filteredProducts()"
        [numVisible]="7"
        [numScroll]="7"
        [circular]="true"
        autoplayInterval="3000"
      >
        <ng-template let-product pTemplate="item">
          <div class="border-none border-round w-5 h-5">
            <div class="mb-3">
              <div class="relative mx-auto">
                <img
                  src="{{ product.image }}"
                  [alt]="product.name"
                  class="product-img object-cover border-round"
                />
                <p-tag
                  [value]="product.inventoryStatus"
                  class="absolute"
                  [ngStyle]="{ 'left.px': 5, 'top.px': 5 }"
                />
              </div>
            </div>

            <div class="mb-3 font-medium">{{ product.category }}</div>

            <div class="flex justify-content-between align-items-center">
              <div class="mt-0 font-semibold text-xl">
                {{ "$" + product.price }}
              </div>

              <span>
                <p-button
                  icon="pi pi-heart"
                  severity="secondary"
                  [outlined]="true"
                ></p-button>

                <!-- âœ… Fixed (click) event -->
                <p-button
                  icon="pi pi-shopping-cart"
                  (click)="confirm(product)"
                  styleClass="ml-2"
                ></p-button>
              </span>
            </div>
          </div>
        </ng-template>
      </p-carousel>
    </div>
  </div>
</div>
<p-confirmDialog>
  <ng-template pTemplate="header">
    <div class="flex align-items-center gap-2">
      <i class="pi pi-check-circle text-green-500 text-2xl"></i>
      <span class="font-semibold text-lg">Item will be add to your cart</span>
    </div>
  </ng-template>

  <ng-template pTemplate="message" let-message>
    <div class="flex gap-3 pt-2">
      <p class="m-0 text-sm text-gray-500">Price:${{ message.message }}</p>

      <p-inputNumber
        [(ngModel)]="quantity"
        mode="decimal"
        (onInput)="onQtyChange($event)"
        [showButtons]="true"
        inputId="minmax-buttons"
        [min]="0"
        [max]="100"
      />
      <span>Total Price : ${{ totalPrice }}</span>
    </div>
  </ng-template>

  <ng-template pTemplate="footer" let-callback="callback">
    <div class="flex justify-content-end gap-2 mt-3">
      <p-button
        label="Keep Browsing"
        severity="secondary"
        styleClass="p-button-sm"
        (click)="callback.reject()"
      ></p-button>
      <p-button
        label="Go to Checkout"
        icon="pi pi-shopping-cart"
        styleClass="p-button-sm"
        (click)="callback.accept()"
      ></p-button>
    </div>
  </ng-template>
</p-confirmDialog>

<!-- Footer Section -->
<div class="footer flex justify-between gap-4 p-4">
  <div class="footer-card flex-1 flex">
    <p-card class="h-full flex flex-col">
      <i class="pi pi-cart-plus text-5xl text-teal-500 mb-3"></i>
      <h3>Qualities</h3>
      <p class="m-0 flex-grow">
        Our shop uses the best products and good qualities. Knowing what
        customer needs and able to provide user's wishes. The best shopping page
        out of the 40 companies.
      </p>
    </p-card>
  </div>

  <div class="footer-card flex-1 flex">
    <p-card class="h-full flex flex-col">
      <i class="pi pi-thumbs-up text-5xl text-teal-500 mb-3"></i>
      <h3>User Feedbacks</h3>
      <p class="m-0 flex-grow">
        Best qualities products and fair price. Excellent customer service. Best
        qualities products and fair price. Excellent customer service.
      </p>
    </p-card>
  </div>

  <div class="footer-card flex-1 flex">
    <p-card class="h-full flex flex-col">
      <i class="pi pi-envelope text-5xl text-teal-500 mb-3"></i>
      <h3>Conversation</h3>
      <p class="m-0 flex-grow">
        Send us messages. We will reply within 24 hours. Best qualities products
        and fair price. Excellent customer service.
      </p>
    </p-card>
  </div>
</div>

<!-- Video Section -->
<div class="video-section p-4">
  <h2 class="text-2xl mb-4">Watch Our Product Highlights</h2>
  <div class="flex gap-2 flex-wrap justify-content-start">
    <iframe
      width="400"
      height="340"
      src="https://www.youtube.com/embed/93z9DqfE_ek?autoplay=1&mute=1"
      frameborder="0"
      allow="autoplay; encrypted-media"
      allowfullscreen
    ></iframe>

    <iframe
      width="400"
      height="340"
      src="https://www.youtube.com/embed/7m16dFI1AF8?autoplay=1&mute=1"
      frameborder="0"
      allow="autoplay; encrypted-media"
      allowfullscreen
    ></iframe>

    <iframe
      width="400"
      height="340"
      src="https://www.youtube.com/embed/7m16dFI1AF8?autoplay=1&mute=1"
      frameborder="0"
      allow="autoplay; encrypted-media"
      allowfullscreen
    ></iframe>
  </div>
</div>

<p-divider></p-divider>

<div class="flex-column text-center">
  <h2 class="">Who We Are</h2>
  <p>
    We are serving the best products in one place for our customers who are
    living around the world.
  </p>
</div>

<div class="flex justify-content-center gap-4 mb-2">
  <i class="pi pi-phone" style="font-size: 1.5rem"></i>
  <i class="pi pi-telegram" style="font-size: 1.5rem"></i>
  <i class="pi pi-facebook" style="font-size: 1.5rem"></i>
</div>
